[gd_scene load_steps=8 format=3 uid="uid://da8eqnkcsw16v"]

[ext_resource type="PackedScene" uid="uid://bl7ioa7ir5xsw" path="res://LightingSystem/BasicLight.tscn" id="1_k2p86"]
[ext_resource type="PackedScene" path="res://Navigation/tile_map_layer_with_nav.tscn" id="1_u51xg"]
[ext_resource type="PackedScene" uid="uid://lv7u48txlta5" path="res://player.tscn" id="2_35kop"]
[ext_resource type="PackedScene" uid="uid://0slhet8daytj" path="res://LightingSystem/FlashLight.tscn" id="3_q60gc"]
[ext_resource type="Texture2D" uid="uid://48gqog2dlms3" path="res://LightingSystem/LightTextures/CustomSpotlight2.png" id="4_r06pc"]
[ext_resource type="PackedScene" uid="uid://bong5i513sa8s" path="res://enemy.tscn" id="5_etmia"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_3i1l4"]
vertices = PackedVector2Array(-417.68, 667.859, -394, -24.7422, -394, 10, -330, -74, -392.32, -74, -389.344, -160.938, -330, -138, 1294.74, -152.047, 394, -138, -330, 10, -330, 118, -394, 118, -394, 266, -266, 266, -266, 374, -330, 374, -330, 458, -266, 458, -266, 522, -202, 522, -202, 586, -138, 586, -138, 650, -54, 650, -54, 522, 566, 522, 566, 714, 450.453, 743.789, 630, 714, 630, 1418, 500.391, 1548.98, 1226, 118, 1098, 118, 1098, 54, 522, 54, 522, -74, 394, -74, 1277.76, 538.656, 1226, 630, 2762, 630, 2795.84, 589.688, 2883.04, 1544.02, 2762, 1418, -182, 246, 374, 10, 438, 10, 438, 74, -182, 394, 1067.86, 138, 1078, 148.141, 1078, 182, 950, 182, 502, 138, 1098, 404.141, 1108.14, 394, 1142, 394, 1142, 650, 1098, 458, 1206, 714, 2678, 714, 2678, 1334, 714, 1334, 1195.86, 650, 1206, 660.141, 714, 694, 950, 458, 778, 586, 842, 522, 650, 683.859, 650, 522, 683.859, 522, 694, 532.141, 694, 586, 660.141, 694, 630, 374, 630, 502, 596.141, 502, 586, 491.859, 586, 438, -90, 507.859, -90, 566, -102, 566, -102, 550, -118, 550, -118, 502, -182, 438, -230, 438, -230, 422, -246, 422, -246, 410, -230, 410, -230, 394, -246, 182, -310, 182, -310, 148.141, -299.859, 138, -246, 138, -246, -10, -294, -10, -294, -26, 363.859, -54, -310, -26, -310, -38, -294, -38, -294, -54, 950, 235.859, 939.859, 246, 886, 246, -235.859, 246, -246, 235.859, 374, -43.8594, -171.859, 502, -182, 491.859, -74, 438, -74, 491.859, 694, 363.859, 683.859, 374, 491.859, 74, 502, 84.1406, 694, 310, 778, 310, 886, 394, 842, 374, 939.859, 394, 950, 404.141, 778, 532.141, 788.141, 522, 788.141, 374, 778, 363.859, 758, 502, 714, 502, 714, 394, 758, 394, 1078, 374, 970, 374, 970, 266, 1078, 266, 1142, 246, 1108.14, 246, 1098, 235.859, 1098, 202, 1142, 202, -342.43, -421.43, -346.57, -417.289, -346.57, -474.57, -293.43, -474.57, -293.43, -421.43)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5, 6), PackedInt32Array(6, 5, 7, 8), PackedInt32Array(2, 9, 10, 11), PackedInt32Array(0, 2, 11), PackedInt32Array(0, 11, 12), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(0, 12, 15, 16), PackedInt32Array(16, 17, 18, 0), PackedInt32Array(18, 19, 20, 0), PackedInt32Array(20, 21, 22, 0), PackedInt32Array(23, 24, 25, 26, 27), PackedInt32Array(27, 26, 28, 29, 30), PackedInt32Array(31, 32, 33, 7), PackedInt32Array(33, 34, 35, 7), PackedInt32Array(35, 36, 8, 7), PackedInt32Array(31, 7, 37, 38), PackedInt32Array(39, 38, 37, 40), PackedInt32Array(39, 40, 41, 42), PackedInt32Array(42, 41, 30, 29), PackedInt32Array(23, 27, 0, 22), PackedInt32Array(43, 44, 45, 46, 47), PackedInt32Array(48, 49, 50, 51, 52), PackedInt32Array(53, 54, 55, 56, 57), PackedInt32Array(58, 59, 60, 61), PackedInt32Array(62, 63, 58, 61, 64, 56), PackedInt32Array(65, 57, 56, 64, 66, 67), PackedInt32Array(68, 69, 70, 71, 72, 73), PackedInt32Array(74, 75, 76, 77, 78), PackedInt32Array(79, 80, 81, 82), PackedInt32Array(82, 83, 84, 79), PackedInt32Array(85, 86, 87), PackedInt32Array(87, 88, 89, 90), PackedInt32Array(90, 91, 47, 85), PackedInt32Array(92, 93, 94, 95, 96), PackedInt32Array(97, 98, 99, 100), PackedInt32Array(99, 101, 102, 103), PackedInt32Array(103, 104, 100), PackedInt32Array(99, 103, 100), PackedInt32Array(96, 97, 100), PackedInt32Array(52, 51, 105, 106, 107), PackedInt32Array(92, 96, 100), PackedInt32Array(85, 87, 90), PackedInt32Array(64, 73, 72, 66), PackedInt32Array(43, 108, 109, 92, 100, 110, 44), PackedInt32Array(85, 47, 46), PackedInt32Array(111, 112, 85, 46, 113), PackedInt32Array(114, 79, 84, 113), PackedInt32Array(74, 78, 113, 46), PackedInt32Array(113, 84, 111), PackedInt32Array(115, 116, 74, 46, 52), PackedInt32Array(46, 117, 118, 52), PackedInt32Array(119, 115, 52), PackedInt32Array(119, 52, 107, 120), PackedInt32Array(120, 107, 121, 122), PackedInt32Array(121, 123, 124, 65), PackedInt32Array(66, 125, 126, 67), PackedInt32Array(65, 67, 122, 121), PackedInt32Array(120, 122, 127, 128), PackedInt32Array(129, 130, 131, 132), PackedInt32Array(133, 134, 135, 136), PackedInt32Array(137, 138, 139, 140, 141), PackedInt32Array(142, 143, 144, 145), PackedInt32Array(145, 146, 142)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-399, -171, 1305, -162, 1288, 529, 2805, 580, 2894, 1554, 491, 1559, 441, 753, -428, 677)])

[node name="World" type="Node2D"]
visibility_layer = 3

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(-124, 3)
navigation_polygon = SubResource("NavigationPolygon_3i1l4")

[node name="TileMapLayer2" parent="NavigationRegion2D" instance=ExtResource("1_u51xg")]
visible = false
position = Vector2(0, 0)
navigation_enabled = false

[node name="TileMapLayer" parent="." instance=ExtResource("1_u51xg")]
navigation_enabled = false

[node name="Lighting" type="Node2D" parent="."]
visible = false

[node name="CanvasModulate" type="CanvasModulate" parent="Lighting"]
color = Color(0, 0, 0, 1)

[node name="Background" type="ColorRect" parent="Lighting"]
visible = false
light_mask = 63
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(29.0199, 16.3978)

[node name="Lights" type="Node2D" parent="Lighting"]

[node name="Red" parent="Lighting/Lights" instance=ExtResource("1_k2p86")]
position = Vector2(293, 80)
color = Color(1, 0, 0, 1)

[node name="Green" parent="Lighting/Lights" instance=ExtResource("1_k2p86")]
position = Vector2(447, 501)
color = Color(0, 1, 0, 1)
range_item_cull_mask = 4

[node name="Blue" parent="Lighting/Lights" instance=ExtResource("1_k2p86")]
position = Vector2(975, 269)
color = Color(0, 0, 1, 1)
range_item_cull_mask = 16

[node name="Cyan" parent="Lighting/Lights" instance=ExtResource("1_k2p86")]
position = Vector2(732, 607)
color = Color(0, 1, 1, 1)
range_item_cull_mask = 28

[node name="Yellow" parent="Lighting/Lights" instance=ExtResource("1_k2p86")]
position = Vector2(69, 498)
color = Color(1, 1, 0, 1)
range_item_cull_mask = 7

[node name="Magenta" parent="Lighting/Lights" instance=ExtResource("1_k2p86")]
position = Vector2(1073, 647)
color = Color(1, 0, 1, 1)
range_item_cull_mask = 49

[node name="White" parent="Lighting/Lights" instance=ExtResource("1_k2p86")]
position = Vector2(606, 81)
range_item_cull_mask = 63

[node name="Player" parent="." instance=ExtResource("2_35kop")]
position = Vector2(614, 157)
metadata/_edit_group_ = true

[node name="PointLight2D" parent="Player" instance=ExtResource("3_q60gc")]
position = Vector2(336, -25)
color = Color(1, 0, 0, 1)
texture = ExtResource("4_r06pc")

[node name="Enemy" parent="." instance=ExtResource("5_etmia")]
position = Vector2(84, 449)
metadata/_edit_group_ = true

[node name="NavigationAgent2D" parent="Enemy" index="2"]
debug_enabled = true

[editable path="Enemy"]
